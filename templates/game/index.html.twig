{% extends 'base.html.twig' %}
{% block title %}EsportRegion - Games{% endblock %}
{% block body %}
<section id="subheader" class="jarallax">
    <img src="{{asset('images/background/14.webp')}}" class="jarallax-img" alt="">
    <div class="container z-1000">
        <div class="row">
            <div class="col-lg-12">
                <div class="subtitle wow fadeInUp mb-3">Administration</div>
            </div>
            <div class="col-lg-6">
                <h2 class="wow fadeInUp mb20" data-wow-delay=".2s">Gestion des jeux</h2>                
                <a href="{{ path('app_tournament_administration') }}" class=" btn-line wow fadeInUp my-2 " data-wow-delay=".4s" onclick="">Retour au panneau d'administration</a>
            </div>                 
        </div>
    </div>
</section>
<!-- section close -->
<section>
    <div class="container position-relative z1000">
        <div class="row">
            {% include('_partial/flashes.inc.twig') %}
            <div class="col-lg-10 offset-lg-1">
                <p class="lead">
                    Ici vous pourrez accedez à la gestion des jeux
                </p>
                <twig:ButtonBootstrap
                route="{{ path('app_game_create')  }}"
                text="Créer un nouveau jeux"
                />
            </div>
        </div>
    </div>
</section>
    <div class="container ">
        <div class="row">
            <div class="">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h3 class="">Liste des jeux du site :</h4>
                </div>
                <table class="table table-dark  my-5">
                    <thead>
                        <tr>
                        <th class="p-3 text-center  table-header-custom " scope="col">Id</th>
                        <th class="p-3 text-center  table-header-custom" scope="col">Nom</th>
                        <th class="p-3 text-center  table-header-custom" scope="col">Plateforme</th>
                        <th class="p-3 text-center  table-header-custom" scope="col">Genre</th>
                        <th class="p-3 text-center  table-header-custom" scope="col">Description</th>
                        <th class="p-3 text-center  table-header-custom" scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>            
                        {% for gamesDet in games %}                            
                        <tr> 
                        <th class="text-center align-middle " scope="row">{{ gamesDet.id }}</th>
                        <td class="text-center align-middle ">{{ gamesDet.name }}</td>
                        <td class="text-center align-middle ">{{ gamesDet.plateforms.name }}</td>
                        <td class="text-center align-middle ">{{ gamesDet.genre }}</td>
                        <td class="text-center align-middle ">{{ gamesDet.description|slice(0, 40) ~ '...' }}</td>

                        <td class="text-center ">
                            <a href="{{ path('app_game_edit', { id: gamesDet.id }) }}" class="btn-main wow fadeInUp m-1"><span>Modifier</span></a>
                            <a href="{{ path('app_game_delete', { id: gamesDet.id }) }}" class=" btn-line wow m-1" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce jeu?');">Supprimer</a>
                        </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>    
            </div>
        </div>
    </div>
{% endblock %}
